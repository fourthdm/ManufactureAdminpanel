<div class="container-fluid">
    <br><br><br><br>
    <div class="roww">
        <div class="text-start">
            <h1>All Employee Information</h1>
        </div>
        <div class="text-end">
            <button type="button" class="btn text-light btn-lg btt" data-bs-toggle="modal" data-bs-target="#exampleModal"
                title="Add Employee">
                Add New Employee <i class="fa-solid fa-user-plus"></i>
            </button>
        </div>

    </div>
    <button class="btn btn-outline-light" (click)="AllEmployees()"
        style="margin-left: 15px; color: white;"><i class="fa-solid fa-arrow-rotate-right"></i></button>
    <br>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add Employee</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12">
                        <br>
                         <form [formGroup]="AddEmployeeForm">

<div class="row">
    <div class="col-md-6">
                <label for="E_Code">Employee Code</label>
                <input type="text" formControlName="E_Code" class="form-control" placeholder="Enter Employee Code">
    </div>
    <div class="col-md-6">
   <label for="E_Role">Employee Role :</label>
                            <select class="form-select form-select-sm" formControlName="E_Role"
                                aria-label="Small select example">
                                <option value="Employee">Employee</option>
                                <option value="Inventory Manager">Inventory Manager</option>
                                <option value="QC">QC</option>
                                <option value="Designer">Designer</option>
                                <option value="Team Lead">Team Lead</option>
                                <option value="Accountant">Accountant</option>
                            </select>
                            <br>
    </div>
</div>

                            <label for="E_Name">Name</label>
                            <input type="text" formControlName="E_Name" class="form-control" placeholder="Enter Employee Name">
                            <br>
     <label for="E_Address">Address</label>
                            <input type="text" formControlName="E_Address" class="form-control" placeholder="Enter Employee Address">
                            <br>


                            <div class="row">
                                <div class="col-md-6"> 
                                    <label for="E_Email">Email</label>
                                    <input type="text" formControlName="E_Email" class="form-control" placeholder="Enter Employee Email">
                                    <br>
                                </div>
                                <div class="col-md-6"> 
                                      <label for="E_PhoneNo">Phone Number</label>
                            <input type="text" formControlName="E_PhoneNo" class="form-control" placeholder="Enter Employee PhoneNo">
                            <br>
                                </div>
                            </div>

                           
                         <div class="row">
                            <div class="col-md-6">
 <label for="E_Username">Username</label>
                            <input type="text" formControlName="E_Username" class="form-control"
                                placeholder="Enter Employee Username">
                            <br>
                            </div>

                            <div class="col-md-6">
<label for="E_Password">Password</label>
                            <input type="text" formControlName="E_Password" class="form-control"
                                placeholder="Enter Employee Password">
                            <br>
                            </div>
                         </div>
                       
                           
                            
                         
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="E_Status" formControlName="E_Status"
                                    (change)="ToggleStatus($event)">
                                <label class="form-check-label" for="E_Status">Checked Employee is Active or Not</label>
                            </div>
                            <br>
                            <button class="btn btn-outline-light btn-lg mb-4" (click)="AddEmployee()">Add Employee</button>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <br>

    <div class="row">
        <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Id</th>
                        <th scope="col">Code</th>
                        <th scope="col">Name</th>
                        <th scope="col">Email</th>
                        <!-- <th scope="col">PhoneNo</th> -->
                        <!-- <th scope="col">Username</th> -->
                        <!-- <th scope="col" *ngIf="isAdmin">Password</th> -->
                        <th scope="col">Role</th>
                        <th scope="col">Added Date</th>
                        <th scope="col">Updated Date</th>
                        <th scope="col">EmployeeStatus</th>
                        <th scope="col" *ngIf="isAdmin">Edit</th>
                        <th scope="col" *ngIf="isAdmin">Delete</th>
                    </tr>
                </thead>
                <tbody class="table-group-divider">
                    <tr *ngFor="let a of AllEmployee | paginate:{itemsPerPage :10, currentPage : pro}, let i=index">
                        <td [routerLink]="['/Home/EmployeeInformation',a.E_id]" title="View Information"
                            class="info wrap-cols">
                            {{a.E_id }}</td>
                        <td>{{a.E_Code}}</td>
                        <td [routerLink]="['/Home/EmployeeInformation',a.E_id]" title="View Information" class="info">
                            {{a.E_Name}}</td>
                        <td class="wrap-col">{{a.E_Email}}</td>
                        <!-- <td>{{a.E_PhoneNo}}</td> -->
                        <!-- <td>{{a.E_Username}}</td> -->
                        <!-- <td *ngIf="isAdmin">{{a.E_Password}}</td> -->
                        <td>{{a.E_Role}}</td>
                        <td>{{a.E_AddedDate | date}} <br> {{a.E_AddedDate | date:'hh:mm a'}}</td>
                        <td>{{a.E_UpdatedDate | date}} <br> {{a.E_UpdatedDate | date :'hh:mm a'}}</td>

                        <!-- <td>{{a.E_Status}}</td> -->
                        <td> <span [ngClass]="{
      'text-success': a.E_Status == 1,
      'text-secondary': a.E_Status != 1
    }">
                                <i class="fa-solid fa-circle fa-sm"></i> {{ a.E_Status == 1 ? 'Active' : 'Inactive' }}
                            </span></td>

                        <td *ngIf="isAdmin"> <a type="button" (click)="editEmployee(a.E_id)" data-bs-toggle="modal"
                                data-bs-target="#exampleModal1" title="Edit a Employee">
                                <i class="fa-solid fa-pen-to-square fa-lg"></i>
                            </a></td>
                        <td *ngIf="isAdmin"><a type="button" (click)="delete(a['E_id'])" title="Delete a Employee"><i
                                    class="fa-regular fa-trash-can fa-lg"></i></a></td>
                        <!-- <td *ngIf="isAdmin"> <button type="button" class="btn btn-info" (click)="editEmployee(a.E_id)"
                                data-bs-toggle="modal" data-bs-target="#exampleModal1" title="Edit a Employee">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </button></td>
                        <td *ngIf="isAdmin"><button class="btn btn-danger" type="button" (click)="delete(a['E_id'])"
                                class="btn btn-danger" title="Delete a Employee"><i
                                    class="fa-regular fa-trash-can"></i></button></td> -->
                    </tr>
                   
                </tbody>
            </table>
             <br>
                    <div class="text-center">
                        <pagination-controls (pageChange)=" pro = $event "></pagination-controls>
                    </div>
                    <br>
        </div>
        <br><br>
    </div>
    <br><br>


    <!-- Button trigger modal -->
    <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog  modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Edit Employee</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12">
                        <br>
                        <form [formGroup]="EditEmployeeForm">
                        
<div class="row">
    <div class="col-md-6">
                <label for="E_Code">Employee Code</label>
                <input type="text" formControlName="E_Code" class="form-control" placeholder="Enter Employee Code">
    </div>
    <div class="col-md-6">
   <label for="E_Role">Employee Role :</label>
                            <select class="form-select form-select-sm" formControlName="E_Role"
                                aria-label="Small select example">
                                <option value="Employee">Employee</option>
                                <option value="Inventory Manager">Inventory Manager</option>
                                <option value="QC">QC</option>
                                <option value="Designer">Designer</option>
                                <option value="Team Lead">Team Lead</option>
                                <option value="Accountant">Accountant</option>
                            </select>
                            <br>
    </div>
</div>

                            <label for="E_Name">Name</label>
                            <input type="text" formControlName="E_Name" class="form-control" placeholder="Enter Employee Name">
                            <br>
     <label for="E_Address">Address</label>
                            <input type="text" formControlName="E_Address" class="form-control" placeholder="Enter Employee Address">
                            <br>


                            <div class="row">
                                <div class="col-md-6"> 
                                    <label for="E_Email">Email</label>
                                    <input type="text" formControlName="E_Email" class="form-control" placeholder="Enter Employee Email">
                                    <br>
                                </div>
                                <div class="col-md-6"> 
                                      <label for="E_PhoneNo">Phone Number</label>
                            <input type="text" formControlName="E_PhoneNo" class="form-control" placeholder="Enter Employee PhoneNo">
                            <br>
                                </div>
                            </div>

                           
                         <div class="row">
                            <div class="col-md-6">
 <label for="E_Username">Username</label>
                            <input type="text" formControlName="E_Username" class="form-control"
                                placeholder="Enter Employee Username">
                            <br>
                            </div>

                            <div class="col-md-6">
<label for="E_Password">Password</label>
                            <input type="text" formControlName="E_Password" class="form-control"
                                placeholder="Enter Employee Password">
                            <br>
                            </div>
                         </div>
                       

                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="E_Status" formControlName="E_Status"
                                    (change)="updateStatus($event)">
                                <label class="form-check-label" for="E_Status">Checked Employee is Active or Not</label>
                            </div>
<br>
                            <button class="btn btn-outline-light btn-lg mb-4" (click)="UpdateEmployee()">Update
                                Employee</button>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>